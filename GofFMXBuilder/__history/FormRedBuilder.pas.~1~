unit FormRedBuilder;

interface

uses
  FormAbstractBuilder,
  FMX.Forms,
  FMX.Edit,
  System.Classes,
  FMX.StdCtrls;

type
  TFormRedBuilder = class(TInterfacedObject, iFormBuilder)
    private
      FParent : TForm;
    public
      constructor Create(Parent: TComponent);
      destructor Destroy; override;
      class function New(Parent: TComponent) : iFormBuilder;
      function CreateSpeedButton : iFormBuilder;
      function CreateEdit : iFormBuilder;
      function CreateLabel : iFormBuilder;
      function Form : TForm;
  end;

implementation

constructor TFormRedBuilder.Create(Parent: TComponent);
begin
  FParent := TForm.Create(Parent);
end;

function TFormRedBuilder.CreateEdit: iFormBuilder;
var
  lEdt : TEdit;
begin
  Result := Self;
  lEdt := TEdit.Create(FParent);
  lEdt.Parent := FParent;
  lEdt.Position.X := 10;
  lEdt.Position.Y := 30;
  lEdt.Width := FParent.ClientWidth -20;//Ajusta o comprimento do Edit de acordo com a largura do form
end;

function TFormRedBuilder.CreateLabel: iFormBuilder;
var
  lLabel : TLabel;
begin
  Result := Self;
  lLabel := TLabel.Create(FParent);
  lLabel.Parent  := FParent;
  lLabel.Text := 'Digite seu nome:';
  lLabel.Position.X := 10;
  lLabel.Position.Y := 10;
end;

function TFormRedBuilder.CreateSpeedButton: iFormBuilder;
var
  lbtn : TSpeedButton;
begin
  Result := Self;
  lbtn := TSpeedButton.Create(FParent);
  lbtn.Parent := FParent;
  lbtn.Position.X := FParent.ClientWidth - (lbtn.Width) - 70; //posiciona de acordo com a largura do form
  lbtn.Position.Y := 80;
  lbtn.Text := 'Clique aqui';
  lbtn.Height := 25;
  lbtn.Width := 80;
end;

destructor TFormRedBuilder.Destroy;
begin
  FParent.Free;
  inherited;
end;

function TFormRedBuilder.Form: TForm;
begin
  Result := FParent;
end;

class function TFormRedBuilder.New (Parent: TComponent) : iFormBuilder;
begin
  Result := Self.Create(Parent);
end;

end.
